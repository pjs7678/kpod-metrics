image:
  repository: internal-registry/kpod-metrics
  tag: "0.4.0"
  pullPolicy: IfNotPresent

resources:
  requests:
    cpu: 150m
    memory: 256Mi
  limits:
    cpu: 500m
    memory: 512Mi

podAnnotations:
  prometheus.io/scrape: "true"
  prometheus.io/port: "9090"
  prometheus.io/path: "/actuator/prometheus"

nodeSelector:
  kubernetes.io/os: linux

tolerations:
  - operator: Exists

podSecurityContext:
  runAsUser: 0
  runAsGroup: 0
  fsGroup: 0

securityContext:
  # Set to true for kind/minikube or environments without proper seccomp profiles.
  # In production, false + BPF/PERFMON capabilities is preferred.
  privileged: false

pdb:
  enabled: true
  maxUnavailable: 1

grafana:
  dashboard:
    enabled: true
    label: "1"
    annotations: {}

serviceMonitor:
  enabled: false
  interval: 30s
  scrapeTimeout: 10s
  labels: {}
  annotations: {}

prometheusRule:
  enabled: false
  labels: {}
  annotations: {}

config:
  profile: standard
  pollInterval: 30000
  discovery:
    mode: informer
    kubeletPollInterval: 30
  cgroup:
    root: /sys/fs/cgroup
    procRoot: /host/proc
